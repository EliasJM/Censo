<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                template="../WEB-INF/plantillaboot.xhtml"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:b="http://bootsfaces.net/ui"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:p="http://primefaces.org/ui">
    <ui:define name="Cuerpo">
        <b:container>
            <h:form id="formDialog" class="formulario" style="margin-top: 70px;">
                    <b:messages></b:messages>
                <b:panel id="content1"> 
                </b:panel>
                <h3><center>Registro de datos de las personas entrevistadas</center></h3>
                <h:inputHidden value="#{entrevistadoMangedBeans.entrevistado.codigoUsuario.codigo}" id="idUserCod"></h:inputHidden>
                <div style="width: 33%; display:inline-block;">
                    <b:selectOneMenu label="Seleccione un cantón" id="cantonesLista" value="#{entrevistadoMangedBeans.entrevistado.codigoCanton}">
                        <f:selectItem itemLabel="Seleccione un cantón" noSelectionOption="true"></f:selectItem>
                        <f:selectItems value="#{cantonesManagedBeans.listaCantones}" var="canton"
                                       itemValue="#{canton}" itemLabel="#{canton.nombre}" />
                        <f:ajax event="change" render="caserios" execute="cantonesLista"/>                    
                    </b:selectOneMenu>    
                </div>
                <div style="width: 33%; display:inline-block;">
                    <b:selectOneMenu id="caserios" label="Seleccione un caserío" value="#{entrevistadoMangedBeans.entrevistado.codigoCaserio}" >
                        <f:selectItems value="#{entrevistadoMangedBeans.consultarPorCanton}" id="caseriosPorCanton" var="caserio"
                                       itemValue="#{caserio}" itemLabel="#{caserio.nombre}" />                                                            
                    </b:selectOneMenu>               
                </div>
                <div style="width: 33%; display:inline-block;">
                    <b:inputText value="#{entrevistadoMangedBeans.entrevistado.codigoEntrevista}" placeholder="Codigo" label="Codigo Entrevista"></b:inputText>
                </div>
                <div style="width: 66%; display:inline-block;">
                    <b:inputText value="#{entrevistadoMangedBeans.entrevistado.nombre}" label="Nombre Entrevistado" required="true" requiredMessage="Debes agregar un nombre" placeholder="Nombre Entrevistado"></b:inputText>
                </div>
                <div style="width: 33%; display:inline-block;">                
                    <h:outputLabel for="fecha">Fecha de la entrevista</h:outputLabel><br/>            
                    <p:datePicker id="fecha" value="#{entrevistadoMangedBeans.entrevistado.fecha}" required="true" requiredMessage="Formato de fecha no es valido" placeholder="Fecha de la entrevista"></p:datePicker><br/>
                </div>
                <b:inputText value="#{entrevistadoMangedBeans.entrevistado.direccion}" label="Dirección" placeholder="Dirección"></b:inputText>
                <div style="width: 33%; display:inline-block;">
                    <b:inputText value="#{entrevistadoMangedBeans.entrevistado.dui}" label="DUI" required="true" requiredMessage="Agregue el DUI" placeholder="DUI"></b:inputText>
                </div>
                <div style="width: 33%; display:inline-block;">
                    <b:inputText value="#{entrevistadoMangedBeans.entrevistado.nit}" label="NIT" placeholder="NIT"></b:inputText>
                </div>
                <div style="width: 33%; display:inline-block;">
                    <b:inputText value="#{entrevistadoMangedBeans.entrevistado.telefono}" label="Teléfono" placeholder="Teléfono"></b:inputText>
                </div>
                <div style="width: 49%; display:inline-block; height: 65px;">
                    <b:label value="Estado Civil"></b:label>
                    <b:selectOneMenu value="#{entrevistadoMangedBeans.entrevistado.codigoEstadoFamiliar}" required="true" requiredMessage="Seleccione un estado civil">
                        <f:selectItem itemLabel="Seleccione un estado civil" noSelectionOption="true"></f:selectItem>                                                    
                        <f:selectItems value="#{radioManagedBeans.listaEstadoFamiliar}" var="lista" itemLabel="#{lista.nombre}" itemValue="#{lista}">                            
                        </f:selectItems>
                    </b:selectOneMenu>
                </div>
                <div style="width: 49%; display:inline-block; height: 65px;">
                    <b:label value="Nivel de Educación"></b:label>
                    <b:selectOneMenu value="#{entrevistadoMangedBeans.entrevistado.codigoNivelesEducacion}" required="true" requiredMessage="Seleccione un nivel de Educación">
                        <f:selectItem itemLabel="Seleccione un nivel de educación" noSelectionOption="true"></f:selectItem>                                                    
                        <f:selectItems value="#{radioManagedBeans.listaNivelesEducacion}" var="lista" itemLabel="#{lista.nombre}" itemValue="#{lista}">                            
                        </f:selectItems>
                    </b:selectOneMenu>
                </div>
                <b:inputText value="#{entrevistadoMangedBeans.entrevistado.detallesInformacionEducativa}" label="Detalle información educativa" placeholder="Detalle información educativa"></b:inputText>
                <div style="width: 60%; display:inline-block;">
                    <b:selectOneMenu label="Profesión o Oficio" value="#{entrevistadoMangedBeans.entrevistado.codigoProfesionOficio}" required="true" requiredMessage="Seleccione una profesión o oficio">
                        <f:selectItem itemLabel="Seleccione una profesión o oficio" noSelectionOption="true"></f:selectItem>                                                    
                        <f:selectItems value="#{profesionOficioManagedBeans.listaProfesionOficio}" var="profesion"
                                       itemValue="#{profesion}" itemLabel="#{profesion.nombre}" />
                    </b:selectOneMenu>        
                </div>

                <div style="width: 39%; display:inline-block;">
                    <a href="profesionOficio.xhtml" target="_blank"><b:button value="Agregar"></b:button>
                    </a>                    
                </div>
                <div style="width: 20%; display:inline-block;">
                    <b:label value="¿Posee una discapacidad?"></b:label>
                    <b:selectOneMenu value="#{entrevistadoMangedBeans.entrevistado.poseeDiscapacidadFisica}" required="true" requiredMessage="Seleccione una opción">
                        <f:selectItem itemLabel="Seleccione una discapacidad" noSelectionOption="true"></f:selectItem>                                                    
                        <f:selectItems value="#{radioManagedBeans.listaAplica}" var="lista" itemLabel="#{lista.nombre}" itemValue="#{lista}">                            
                        </f:selectItems>
                    </b:selectOneMenu>
                </div>

                <div style="width: 79%; display:inline-block; ">
                    <b:inputText value="#{entrevistadoMangedBeans.entrevistado.detalleDiscapacidadFisica}" placeholder="Detalles de discapacidad" label="Si la respuesta es Sí. Detalles de discapacidad"></b:inputText> 
                </div>

                <div style="width: 20%; display:inline-block;">                
                    <b:label value="¿Recibe insumos agricolas?"></b:label>                    
                    <b:selectOneMenu value="#{entrevistadoMangedBeans.entrevistado.recibeInsumoAgricolas}" required="true" requiredMessage="Seleccione una opción">
                        <f:selectItem itemLabel="Seleccione una opción" noSelectionOption="true"></f:selectItem>                                                    
                        <f:selectItems value="#{radioManagedBeans.listaAplica}" var="lista" itemLabel="#{lista.nombre}" itemValue="#{lista}">                            
                        </f:selectItems>
                    </b:selectOneMenu>


                </div>
                <div style="width: 79%; display:inline-block; ">
                    <b:inputText value="#{entrevistadoMangedBeans.entrevistado.cantidadCultivan}" placeholder="Cantidad" label="¿Que cantidad cultivan?"></b:inputText> 

                </div>
                <div style="width: 79%; display:inline-block; ">
                    <b:selectOneMenu label="Fuente de Ingresos Principal" value="#{entrevistadoMangedBeans.entrevistado.fuenteDeIngreso}" required="true" requiredMessage="Seleccione una fuente de Ingreso">
                        <f:selectItem itemLabel="Seleccione una fuente de ingreso" noSelectionOption="true"></f:selectItem>
                        <f:selectItems value="#{fuentesDeIngresoManagerBeans.listaFuentesdeIngreso}" var="fuente"
                                       itemValue="#{fuente}" itemLabel="#{fuente.nombre}" />
                    </b:selectOneMenu>        
                </div>            
                <div style="width: 20%; display:inline-block; ">

                </div>

                <b:inputText value="#{entrevistadoMangedBeans.entrevistado.observaciones}" placeholder="Observaciones" label="Observaciones"></b:inputText> 

                <h:commandButton action="#{entrevistadoMangedBeans.modificar()}" class="btn btn-primary" value="Guardar"></h:commandButton>
                

            </h:form>
        </b:container>

        <script>
            $(document).ready(function () {
                $('#formDialog\\:idUserCod').val("#{session.getAttribute('codigoUsuario')}");
            });
        </script>
    </ui:define>
</ui:composition>

